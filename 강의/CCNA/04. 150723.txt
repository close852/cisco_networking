			###Subnet Mask

 IP Address는 Network 부분과 Host 부분으로 구성된다.
 
 SubnetMask
 .IP address에 대해서 Network 부분과 Host 부분을 구분하는 역할.

 32bit로 구성되며 1로시작하거나 0으로시작하는 연속적인 형식만 가능하다.
 .1 = Network(공통비트)
 .0 = Host (비공통비트)
	11111111.00000000.00000000.00000000 = 255.0.0.0
	11111111.11111111.00000000.00000000 = 255.255.0.0
	11111111.11111111.11111111.00000000 = 255.255.255.0

192.168.1.0 = SM 255.255.255.0

11000000.10101000.00000001.00000000 = 192.168.1.0
		~
11000000.10101000.00000001.11111111 = 192.168.1.255
===================================
11111111.11111111.11111111.00000000 = 255.255.255.255

###################################################################################################
			### 사용가능 IP 주소
 하나의 네트워크에는 다수의 IP 주소가 포함되지만 모든 IP주소를 사용할 수는 없다.
 사용가능 IP 주소 개수는 2^n -2 = x [x값이 사용가능한 IP 주소 개수이다.]
HOST bit가 모두 0으로 처리된 IP주소는 사용할 수없다.	= Network-ID
HOST bit가 모두 1로 처리된 IP주소는 사용할 수 없다.	=Broadcast Address

192.168.1.0/24
11000000.10101000.00000001.00000000
		~
11000000.10101000.00000001.11111111
주소 범위	 : 192.169.1.0 ~ 192.168.1.255
Network-ID	 : 192.168.0.0
Broadcast IP	 : 192.168.255.255
사용가능 IP 주소 : 192.168.1.1 ~ 192.168.1.254

172.16.0.0/16
10101100.00010000.00000000.00000000
		~
10101100.00010000.11111111.11111111

주소 범위	 : 172.16.0.0 ~ 172.16.255.255
Network-ID	 : 172.16.0.0
Broadcast IP	 : 172.16.255.255
사용가능 IP 주소 : 172.16.0.1 ~ 172.16.255.254

10.0.0.0/8
00001010.00000000.00000000.00000000
		~
00001010.11111111.11111111.11111111

주소 범위	 : 10.0.0.0 ~ 10.255.255.255
Network-ID	 : 10.0.0.0
Broadcast IP	 : 10.255.255.255
사용가능 IP 주소 : 10.0.0.1 ~ 10.255.255.254

###################################################################################################
			##공인 IP주소, 사설 IP주소

 ISP와 같은 공중망은 공인 IP주소를 사용하여 네트워크를 구성하며
 사설망은 사설 IP주소를 사용하여 네트워크를 구성한다.

 ISP에서는 출발지 IP주소가 사설대역인 모든 트래픽을 차단한다.
 [NAT 기능에 의해서 외부 네트워크로 통신이 가능하다.]


		# 사설 IP 주소의 범위

 A class = 10.x.x.x (10.0.0.0 ~ 10.255.255.255)

 B class = 172.16.0.0 ~ 172.31.255.255

 C class = 192.168.x.x (192.168.0.0 ~ 192.168.255.255)


116.210.0.0/16
무슨Class?	 : A class
Network-ID	 : 116.210.0.0
Broadcast IP	 : 116.210.255.255
사용가능 IP 주소 : 116.210.0.1 ~ 116.210.255.254


178.156.11.0/24
무슨 클래스?	 : B class
Network-ID	 : 178.156.11.0
Broadcast IP	 : 178.156.11.255
사용가능 IP 주소 : 178.156.11.1 ~ 178.156.11.254

.................................................................................................

IP = 192.168.1.0
SM = 255.255.255.0

네트워크(1) 앞에서 자르고
호스트는(0) 뒤에서 자른다.
	
	2^5 -2 = 30
net=5 / host =30
111   /	00000

192.168.1.0/27
255.255.255.224

1111111.11111111.11111111.11100000

못쓰는 2개
host가 모두 0으로 처리됬거나
host가 모두 1로 처리된 것
=================================================================
다시! 정리하면
=================================================================
NETWORK 부분은 공통된 부분이다.
	1로 표기한다.
HOST 부분은 공통되지 않은 부분이다. 
	0으로 표기한다.

보통, 
A : 255.0.0.0
B : 255.255.0.0
C : 255.255.255.0
이지만, IP 부족과 효율적인 사용으로 인해서 Subneting을 하게 된다.
netnork는 1로 / host는 0으로 표시한다.

192.168.1.0/24라는 공인 IP를 

5개의 네트워크에 30개의 호스트를 부여해야 한다면,

SM : 11111111.11111111.11111111.11100000 (255.255.255.224) 가 된다.
즉, 192.168.1.0/27이 된다는 말이다.

그렇게 되면, 총 32개의 호스트를 지닌 8개의 네트워크 [0,1,2,3,4,5,6,7] 가 만들어진다.
net host
000 00000 ~ 111111 (0 ~ 31)
001 00000 ~ 111111 (32 ~ 63)
010 00000 ~ 111111 (64 ~ 95)
011 00000 ~ 111111 (96 ~ 127)
100 00000 ~ 111111 (128 ~ 159)
101 00000 ~ 111111 (160 ~ 191)
110 00000 ~ 111111 (192 ~ 223)
111 00000 ~ 111111 (224 ~ 255)
이렇게 말이다. 32개의 호스트중 실제 사용할 수있는것은 30개이다.
2개는 host가 0이거나 1인 network-id/broadcast주소라서 사용할 수 없기 때문이다.




IP : 210.116.10.0/24
SM 255.255.255.224
255.255.000	00000 ~ 11111	
	000	00000 ~ 11111	(1 ~ 30)
	001	00000 ~ 11111	(33 ~ 62)
	010	00000 ~ 11111	(65 ~ 94)
	011	00000 ~ 11111	(97 ~ 126)
	100	00000 ~ 11111	(129 ~ 158)
	101	00000 ~ 11111	(151 ~ 190)
	110	00000 ~ 11111	(193 ~ 222)
	111	00000 ~ 11111	(225 ~ 254)


=========================================================================================================


network 5 / host 23

211.241.10.0/24
	|
	V
211.241.10.0/27

211.241.10.net 	host	
	   000	00000 ~ 11111	(1 ~ 30)
	   001	00000 ~ 11111	(33 ~ 62)
	   010	00000 ~ 11111	(65 ~ 94)
	   011	00000 ~ 11111	(97 ~ 126)
	   100	00000 ~ 11111	(129 ~ 158)
	   101	00000 ~ 11111	(151 ~ 190)
	   110	00000 ~ 11111	(193 ~ 222)
	   111	00000 ~ 11111	(225 ~ 254)
다시 정리하면
(000)211.241.10.0/27
11010011.11110001.00001010.00000000
		~
11010011.11110001.00001010.00011111
-----------------------------------

(001)211.241.10.32/27
11010011.11110001.00001010.00100000
		~
11010011.11110001.00001010.00111111
-----------------------------------

(010)211.241.10.64/27
11010011.11110001.00001010.01000000
		~
11010011.11110001.00001010.01011111
-----------------------------------

(011)211.241.10.96/27
11010011.11110001.00001010.01100000
		~
11010011.11110001.00001010.01111111
-----------------------------------

(100)211.241.10.128/27
11010011.11110001.00001010.10000000
		~
11010011.11110001.00001010.10011111
-----------------------------------

(101)211.241.10.160/27
11010011.11110001.00001010.10100000
		~
11010011.11110001.00001010.10111111
-----------------------------------

(110)211.241.10.192/27
11010011.11110001.00001010.11000000
		~
11010011.11110001.00001010.11011111
-----------------------------------

(111)211.241.10.224/27
11010011.11110001.00001010.11100000
		~
11010011.11110001.00001010.11111111



			### VLSM[Variable Length Subnet Mask]
 	  L2(2)		  L2(2)
라우터 	------  라우터	-----	라우터
 | L2		  | L2		  | L2
스위치(17)	스위치(23)	스위치(21)

L2구간이 5개
호스트 최대 크기 23개

net : 5
host : 23


/24로 쪼갠다.
그런데, 2개의 net은 ip가 2개씩만 필요하다. 
때문에 또다시 하나의 IP 즉,
211.241.100.128의 SM 범위를 줄인다. [VLSM]
		

net :2
host:2 = 2^2-2 (2개 필요)
211.241.100.128/30
211.241.100.132/30
211.241.100.136/30
211.241.100.140/30
211.241.100.144/30
211.241.100.148/30
211.241.100.152/30
211.241.100.156/30
				net	host
11010011.11110001.00001010.100	000	00 	211.241.100.128 (host가 전부 0인 NETWORK-ID)
				000	01	211.241.100.129	(사용가능)
				000	10	211.241.100.130 (사용가능)
				000	11	211.241.100.131 (host가 전부 1인 broadcast Address)

11010011.11110001.00001010.100	001	132 - 135	211.241.100.132/30
	
11010011.11110001.00001010.100	010	136 - 139	211.241.100.136/30

11010011.11110001.00001010.100	011	140 ` 143	211.241.100.140/30

11010011.11110001.00001010.100	100	144 - 147	211.241.100.144/30

11010011.11110001.00001010.100	101	148 - 151	211.241.100.148/30

11010011.11110001.00001010.100	110	152 - 155	211.241.100.152/30

11010011.11110001.00001010.100	111	156 - 159	211.241.100.156/30


==========================================================================================================
(101)211.241.10.160/27
11010011.11110001.00001010.10100000
		~
11010011.11110001.00001010.10111111


				net	host
11010011.11110001.00001010.101	000	00	211.241.10.160/30
				000	01	211.241.10.161
				000	10	211.241.10.162
				000	11	211.241.10.163 (broadcast)

11010011.11110001.00001010.101	001	00	211.241.10.164/30
				001	01	211.241.10.165
				001	10	211.241.10.166
				001	11	211.241.10.167 (broadcast)

11010011.11110001.00001010.101	010	00	211.241.10.168/30
				010	01	211.241.10.169
				010	10	211.241.10.170
				010	11	211.241.10.171 (broadcast)

11010011.11110001.00001010.101	011	00	211.241.10.172/30
				011	01	211.241.10.173	
				011	10	211.241.10.174
				011	11	211.241.10.175 (broadcast)

11010011.11110001.00001010.101	100	00	211.241.10.176/30
				100	01	211.241.10.177
				100	10	211.241.10.178
				100	11	211.241.10.179 (broadcast)

11010011.11110001.00001010.101	101	00	211.241.10.180/30
				101	01	211.241.10.181
				101	10	211.241.10.182
				101	11	211.241.10.183 (broadcast)

11010011.11110001.00001010.101	110	00	211.241.10.184/30
				110	01	211.241.10.185
				110	10	211.241.10.186
				110	11	211.241.10.187 (broadcast)

11010011.11110001.00001010.101	111	00	211.241.10.188/30
				111	01	211.241.10.189
				111	10	211.241.10.190
				111	11	211.241.10.191 (broadcast)


========================================================================================================================================================================================

200.20.2.0/24	   200.20.2.224/30	200.20.2.228/30
			Host 2		Host 2
		R1--------------R2--------------R3
		|		|		|
		|		|		|
		Host 120	Host 30		Host 60	 
		220.20.2.0/25	200.20.2.192/27	200.20.2.128/26
network = 5
Host = 120

2^7

11001000.00010100.00000010.00000000	200.20.2.0/25	 0 ~ 127 (128)
			  .01111111

11001000.00010100.00000010.10 000000	200.20.2.128/26  128 ~ 191 (64)


11001000.00010100.00000010.110 00000	200.20.2.192/27  192 ~ 223 (32)

11001000.00010100.00000010.111 000 00	200.20.2.224/30	(4)
11001000.00010100.00000010.111 001 00	200.20.2.228/30	(4)
11001000.00010100.00000010.111 010 00	200.20.2.232/30	(4)
11001000.00010100.00000010.111 011 00	200.20.2.236/30	(4)
11001000.00010100.00000010.111 100 00	200.20.2.240/30	(4)
11001000.00010100.00000010.111 101 00	200.20.2.244/30	(4)
11001000.00010100.00000010.111 110 00	200.20.2.248/30	(4)
11001000.00010100.00000010.111 111 00	200.20.2.252/30	(4)


=================================================================================================================================



host 2 (7)

(8192)
host 4000	133.200.0.0/20	
host 3500	133.200.16.0/20

host 1000	133.200.32.0/22
host 500	133.200.36.0/22

host 2500	133.200.41.0/20  ~ 55.255
host 230	133.200.40.0/24

host 25		
host 22

host 2*7

133.200.0000 0000.00000000	133.200.0.0/20		 133.200.0.0 ~ 133.200.15.255	4000	4096
133.200.0001 0000.00000000	133.200.16.0/20		133.200.16.0 ~ 133.200.31.255	3500	4096
133.200.0010 0000.00000000	133.200.32.0/20		133.200.32.0 ~ 133.200.47.255	2500	4096

133.200.0011 00 00.00000000	133.200.48.0/22		133.200.48.0 ~ 133.200.51.255	1000	1024

133.200.0011 01 0 0.00000000	133.200.52.0/23		133.200.52.0 ~ 133.200.53.255	500	512

133.200.0011 01 1 0 .00000000	133.200.54.0/24		133.200.54.0 ~ 133.200.54.255	230	256

133.200.0011 01 1 1 .000 00000	133.200.55.0/27		133.200.55.0 ~ 133.200.55.31	25	32
133.200.0011 01 1 1 .001 00000	133.200.55.0/27		133.200.55.32 ~ 133.200.55.63	22	32




133.200.0011 01 1 1 .010 000 00	133.200.55.64/30	133.200.55.64 ~ 133.200.55.67	2	4
133.200.0011 01 1 1 .010 001 00	133.200.55.68/30	133.200.55.68 ~ 133.200.55.71	2	4
133.200.0011 01 1 1 .010 010 00	133.200.55.72/30	133.200.55.72 ~ 133.200.55.75	2	4
133.200.0011 01 1 1 .010 011 00	133.200.55.76/30	133.200.55.76 ~ 133.200.55.79	2	4
133.200.0011 01 1 1 .010 100 00	133.200.55.80/30	133.200.55.80 ~ 133.200.55.83	2	4
133.200.0011 01 1 1 .010 101 00	133.200.55.84/30	133.200.55.84 ~ 133.200.55.87	2	4
133.200.0011 01 1 1 .010 110 00	133.200.55.88/30	133.200.55.88 ~ 133.200.55.91	2	4



133.200.0011 01 1 1 .010 111 00	133.200.55.92/30	133.200.55.92 ~ 133.200.55.95	(4)





133.200.0011 01 1 1 .011 00000	133.200.55.0/27		 133.200.55.96 ~ 133.200.55.255	(32)
133.200.0011 01 1 1 .100 00000	133.200.55.0/27		133.200.55.128 ~ 133.200.55.255	(32)
133.200.0011 01 1 1 .101 00000	133.200.55.0/27		133.200.55.160 ~ 133.200.55.255	(32)
133.200.0011 01 1 1 .110 00000	133.200.55.0/27		133.200.55.192 ~ 133.200.55.255	(32)
133.200.0011 01 1 1 .111 00000	133.200.55.0/27		133.200.55.224 ~ 133.200.55.255	(32)
	

133.200.0011 10 00.00000000	133.200.56.0/22		133.200.56.0 ~ 133.200.59.255	(1024)
133.200.0011 11 00.00000000	133.200.60.0		133.200.60.0 ~ 133.200.63.255	(1024)


133.200.0100 0000.00000000	(4096)
133.200.0101 0000.00000000	(4096)
133.200.0110 0000.00000000	(4096)
133.200.0111 0000.00000000	(4096)
133.200.1000 0000.00000000	(4096)
133.200.1001 0000.00000000	(4096)
133.200.1010 0000.00000000	(4096)
133.200.1011 0000.00000000	(4096)
133.200.1100 0000.00000000	(4096)
133.200.1101 0000.00000000	(4096)
133.200.1110 0000.00000000	(4096)
133.200.1111 0000.00000000	(4096)


